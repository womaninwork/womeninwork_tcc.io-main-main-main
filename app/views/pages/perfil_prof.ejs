<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=0.1">
         <link rel="stylesheet" href="/css/perfil_prof.css">
         <link rel="stylesheet" href="/css/faleConosco.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
          </style>
          <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <title>Perfil</title>
    </head>
    <body>
        <header>
            <section class="container">
                <nav class="nav">
                    <a href="/index">
                        <img src="imagem/logo2.png" width="158px" height="60px">
                    </a>
                    <ul class="ul">
                        <a href="/home_prof">Home</a>
                        <a href="/sobrenos">Sobre nós</a>
                        <a href="/cursos">Cursos</a>
                        <a href="/formcursos">Criar Curso</a>
                        <a data-bs-toggle="modal" data-bs-target="#exampleModal">
                          Fale conosco
                        </a>
                        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header center">
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                <h5 class="modal-title" id="exampleModalLabel ">Fale conosco</h5>
                              </div>
                              <div class="modal-body">
                                <form class="col center">
                                  <div class="col-md-4">
                                    <label for="validationServer01" class="form-label">Nome</label>
                                    <input type="text" class="form-control is-valid" id="validationServer01" value="" required>
                                    <div class="valid-feedback">
                                      Perfeito!
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <label for="validationServerUsername" class="form-label">Email</label>
                                    <div class="input-group has-validation">
                                      <span class="input-group-text" id="inputGroupPrepend3">@</span>
                                      <input type="text" class="form-control is-invalid" id="validationServerUsername" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" required>
                                      <div id="validationServerUsernameFeedback" class="invalid-feedback">
                                        Coloque seu e-mail
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-4 mb-4">
                                    <label for="validationServer04" class="form-label">Assunto</label>
                                    <select class="form-select is-invalid h-4 form-control-lg" id="validationServer04" aria-describedby="validationServer04Feedback" required>
                                      <option selected disabled value="">Escolha...</option>
                                      <option>Parceria</option>
                                      <option>Sugestão</option>
                                      <option>Golpe</option>
                                      <option>outros</option>
                                    </select>
                                    <div id="validationServer04Feedback" class="invalid-feedback">
                                      Coloque um assunto
                                    </div>
                                  </div>
                                  <div class="col-12 mb-4 center">
                                    <div class="form-check ">
                                      <input class="form-check-input is-invalid" type="checkbox" value="" id="invalidCheck3" aria-describedby="invalidCheck3Feedback" required>
                                      <label class="form-check-label" for="invalidCheck3">
                                        Aceite os termos
                                      </label>
                                      <div id="invalidCheck3Feedback" class="invalid-feedback">
                                        você deve aceitar os termos.
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-12 center">
                                    <button class="btn btn-primary" type="submit">Enviar</button>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                        <img src="imagem/usuario.png" class="usuario">
                    </ul>
            </section>
</header>

<div class="container_perfil">
  <label class="picture" for="picture__input" tabIndex="0">
    <span class="picture__image"></span>
  </label>
  <input type="file" name="picture__input" id="picture__input">
  
  <div class="profile-header">
    <h1><%= name %></h1>
    <p>Desenvolvedora Web</p>
  </div>
  
  <div class="profile-details">
    <p>Sou uma desenvolvedora web apaixonada por criar experiências digitais incríveis. Tenho experiência em HTML, CSS, JavaScript e frameworks modernos.</p>
  </div>
</div>

    
</div>

<nav class="link">
        <a href="#"> <i class="fa fa-facebook icon"></i></a>
        <a href="#"> <i class="fa fa-instagram icon"></i></a>
        <a href="#"> <i class="fa fa-twitter icon"></i></a>
        <a href="#"> <i class="fa fa-github icon" ></i></a>
    </nav>

    <div class="container_perfil">
      <a href="/editarperfil">
        <button class="follow-button">Editar Perfil</button>
      </a>
      
      <a href="/formcursos">
        <button class="follow-button">Criar Curso</button>
      </a>
    </div>
    

 <!--LINHA DE SEPARAÇAO-->
 <hr size="3" width="100%" color="#EEEEEE" style="margin: 0%;">

<h3 class="areas">Meus Cursos</h3>
  <!--INICIO DA AREA CURSOS-->

        <!--INICIO CURSOS CRIADOS-->
<section class="container_cursos">
  <section style="display: flex; width: 100%; justify-content: center;">
    <div id="lista-cursos" style="width: 100%; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; max-width: 1200px;">
      <!-- Os cursos serão carregados aqui dinamicamente -->
    </div>
  </section>
  
  <script>
    // Função para obter os cursos da API
    async function carregarCursos() {
      try {
        // Fazendo a requisição para a API /cursosAPI
        const response = await fetch('/cursosAPI');
        
        if (!response.ok) {
          throw new Error('Falha ao carregar os cursos');
        }
  
        // Convertendo a resposta para JSON
        const data = await response.json();
  
        // Pegando o div onde os cursos serão exibidos
        const listaCursosDiv = document.getElementById('lista-cursos');
  
        // Verificando se a resposta contém cursos
        if (data.cursos && data.cursos.length > 0) {
          // Limpando a lista antes de adicionar os cursos
          listaCursosDiv.innerHTML = '';
  
          // Loop para exibir cada curso
          data.cursos.forEach(curso => {
            // Criando o HTML para cada curso
            const cursoDiv = document.createElement('article');
            cursoDiv.classList.add('card', 'card-1');
            
            cursoDiv.innerHTML = `
            <!--CARD HEADER-->
            <article class="card-header">
              <img src="${curso.image}" class="card-img" alt="Imagem do curso" />
            </article>
      
            <!--CARD BODY-->
            <section class="card-body">
              <h2 class="card-titulo">${curso.nome_curso}</h2>
              <p class="card-texto">${curso.descricao_cursos}</p>
            </section>
      
            <!--CARD FOOTER-->
            <section class="card-footer">
              <button><a href="/${curso.nome_curso.toLowerCase().replace(/\s+/g, '-')}-cursos">Saiba Mais</a></button>
            </section>
            `;
            
            // Adicionando o curso na lista
            listaCursosDiv.appendChild(cursoDiv);
          });
        } else {
          listaCursosDiv.innerHTML = 'Nenhum curso encontrado.';
        }
      } catch (error) {
        console.error('Erro ao carregar os cursos:', error);
        document.getElementById('lista-cursos').innerHTML = 'Erro ao carregar os cursos.';
      }
    }
  
    // Carregar os cursos ao carregar a página
    window.onload = carregarCursos;
  </script>
</section>
  <!--FIM CURSOS CRIADOS-->    

<!--INICIO DO FOOTER-->
<footer class="footer">
  <article class="container">
      <nav class="links">
          <a href="#"> <i class="fa fa-facebook icon"></i></a>
          <a href="#"> <i class="fa fa-instagram icon"></i></a>
          <a href="#"> <i class="fa fa-twitter icon"></i></a>
          <a href="#"> <i class="fa fa-github icon" ></i></a>
      </nav>
      <p>WOMAN IN WORK</p>
  </article>
</footer>
<!--FIM DO FOOTER-->

<script src="/js/perfil.js"></script>
</body>
</html>